"0","library(tidyverse)"
"2","Warning: package â€˜tidyverseâ€™ was built under R version 4.3.2"
"2","Warning: package â€˜ggplot2â€™ was built under R version 4.3.3"
"2","â”€â”€ [1mAttaching core tidyverse packages[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 2.0.0 â”€â”€
[32mâœ”[39m [34mdplyr    [39m 1.1.2     [32mâœ”[39m [34mreadr    [39m 2.1.4
[32mâœ”[39m [34mforcats  [39m 1.0.0     [32mâœ”[39m [34mstringr  [39m 1.5.0
[32mâœ”[39m [34mggplot2  [39m 3.5.0     [32mâœ”[39m [34mtibble   [39m 3.2.1
[32mâœ”[39m [34mlubridate[39m 1.9.2     [32mâœ”[39m [34mtidyr    [39m 1.3.0
[32mâœ”[39m [34mpurrr    [39m 1.0.2     "
"2","â”€â”€ [1mConflicts[22m â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
[31mâœ–[39m [34mdplyr[39m::[32mfilter()[39m masks [34mstats[39m::filter()
[31mâœ–[39m [34mdplyr[39m::[32mlag()[39m    masks [34mstats[39m::lag()
[36mâ„¹[39m Use the ]8;;http://conflicted.r-lib.org/conflicted package]8;; to force all conflicts to become errors"
"0","library(broom)"
"2","Warning: package â€˜broomâ€™ was built under R version 4.3.2"
"0","library(knitr)"
"0","library(kableExtra)"
"2","Warning: package â€˜kableExtraâ€™ was built under R version 4.3.3"
"2","
Attaching package: â€˜kableExtraâ€™

"
"2","The following object is masked from â€˜package:dplyrâ€™:

    group_rows

"
"0","# Assuming your data is loaded into a dataframe named `data`"
"0","# data <- read.csv(""your_data.csv"")"
"0","load(""~/GitHub/nmhss/data/data_start_2014_filter.rda"")"
"0",""
"0","is_binary_factor <- function(column) {"
"0","  if (is.factor(column)) {"
"0","    return(all(levels(column) %in% c(""0"", ""1"")))"
"0","  } else {"
"0","    return(TRUE) # Keep non-factor columns"
"0","  }"
"0","}"
"0",""
"0","perform_chi_square <- function(data, var1, var2) {"
"0","  table <- table(data[[var1]], data[[var2]])"
"0","  test <- tryCatch({"
"0","    chisq.test(table)"
"0","  }, warning = function(w) {"
"0","    return(NA)"
"0","  }, error = function(e) {"
"0","    return(NA)"
"0","  }, finally = {})"
"0","  tidy(test)"
"0","}"
"0",""
"0","perform_two_prop_z_test <- function(data, var1, var2) {"
"0","  table <- table(data[[var1]], data[[var2]])"
"0","  x <- c(table[1,1], table[2,1]) # Success counts"
"0","  n <- c(sum(table[1,]), sum(table[2,])) # Total counts"
"0","  "
"0","  test <- tryCatch({"
"0","    prop.test(x, n)"
"0","  }, warning = function(w) {"
"0","    return(NA)"
"0","  }, error = function(e) {"
"0","    return(NA)"
"0","  }, finally = {})"
"0","  tidy(test)"
"0","}"
"0",""
