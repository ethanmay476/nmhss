"0","# Function to apply conditional formatting directly to p-values"
"0","format_p_values <- function(p_value) {"
"0","  if (is.numeric(p_value) && !is.na(p_value)) {"
"0","    if (p_value < 0.05) {"
"0","      return(sprintf(""\\cellcolor{green}{%.3f}"", p_value))"
"0","    } else {"
"0","      return(sprintf(""%.3f"", p_value))"
"0","    }"
"0","  } else {"
"0","    return(p_value)"
"0","  }"
"0","}"
"0",""
"0","# Apply the formatting function to each p-value in the dataframe"
"0","for (year in years) {"
"0","  p_values_df[[as.character(year)]] <- sapply(p_values_df[[as.character(year)]], format_p_values)"
"0","}"
"2","Error: object 'p_values_df' not found
"
