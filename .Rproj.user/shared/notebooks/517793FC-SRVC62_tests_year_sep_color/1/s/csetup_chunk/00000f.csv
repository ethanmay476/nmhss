"0","library(tidyverse)"
"0","library(broom)"
"0","library(knitr)"
"0","library(kableExtra)"
"0",""
"0","# cat("""
"0","# \\usepackage{longtable}"
"0","# \\usepackage{xcolor}"
"0","# \\usepackage{colortbl}"
"0","# "", sep=""\n"")"
"0","# "
"0","# "
"0","# cat("""
"0","# \\usepackage{xcolor}"
"0","# \\usepackage{colortbl}"
"0","# "", sep=""\n"")"
"0",""
"0","# Assuming your data is loaded into a dataframe named `data`"
"0","# data <- read.csv(""your_data.csv"")"
"0","load(""~/GitHub/nmhss/data/data_start_2014_filter.rda"")"
"0",""
"0","is_binary_factor <- function(column) {"
"0","  if (is.factor(column)) {"
"0","    return(all(levels(column) %in% c(""0"", ""1"")))"
"0","  } else {"
"0","    return(TRUE) # Keep non-factor columns"
"0","  }"
"0","}"
"0",""
"0","perform_two_prop_z_test <- function(data, var1, var2) {"
"0","  table <- table(data[[var1]], data[[var2]])"
"0","  x <- c(table[1,1], table[2,1]) # Success counts"
"0","  n <- c(sum(table[1,]), sum(table[2,])) # Total counts"
"0","  "
"0","  test <- tryCatch({"
"0","    prop.test(x, n)"
"0","  }, warning = function(w) {"
"0","    return(NA)"
"0","  }, error = function(e) {"
"0","    return(NA)"
"0","  }, finally = {})"
"0","  tidy(test)"
"0","}"
